<?xml version="1.0" encoding="UTF-8"?>
<fdm>
  
  <!-- P-51 Flight Dynamics Model Data File -->
  
  <!-- collision points -->
  <collision_points>
    
    <collision_point>  3.08  0.0   1.70 </collision_point> <!-- [m] propeller -->
    <collision_point>  0.0  -5.64  0.20 </collision_point> <!-- [m] left wing tip -->
    <collision_point>  0.0   5.64  0.20 </collision_point> <!-- [m] right wing tip -->
    <collision_point> -6.03  0.0   0.08 </collision_point> <!-- [m] tail -->
    
  </collision_points>
  
  <!-- limitations -->
  <limitations>
    
    <airspeed_max> 330.0 </airspeed_max>  <!-- [m/s] maximum airspeed (exceeding this value causes crash) -->
    
    <load_aero_min> -5.3 </load_aero_min> <!-- [-] minimum (maximum negative) load factor due to aerodynamics (exceeding this value causes crash) -->
    <load_aero_max> 10.5 </load_aero_max> <!-- [-] maximum (maximum positive) load factor due to aerodynamics (exceeding this value causes crash) -->
    <load_gear_max> 15.0 </load_gear_max> <!-- [-] maximum absolute load factor due to landing gear (exceeding this value causes crash) -->
    
  </limitations>
  
  <!-- pilot position -->
  <pilot_position> -0.8  0.0 -0.6 </pilot_position> <!-- [m] pilot position expressed in BAS -->
  
  <!-- aerodynamics -->
  <aerodynamics>
    
    <!-- [-] drag factor due to ground effect vs [m] altitude AGL -->
    <drag_ground_effect>
      1.1   1.05
      4.0   1.00
    </drag_ground_effect>
    
    <!-- [-] lift factor due to ground effect vs [m] altitude AGL -->
    <lift_ground_effect>
      1.1   1.15
      4.0   1.00
    </lift_ground_effect>
    
    <dl_dtorque>  0.04 </dl_dtorque>  <!-- [-] rolling moment due propeller torque -->
    <dn_dtorque> -0.04 </dn_dtorque>  <!-- [-] yawing moment due propeller torque -->

    <!-- tail-off aircraft -->
    <tail_off>
        
      <aero_center_l>  0.0  -2.58   0.48  </aero_center_l>  <!-- [m] left  half wing aerodynamic center expressed in BAS -->
      <aero_center_r>  0.0   2.58   0.48  </aero_center_r>  <!-- [m] right half wing aerodynamic center expressed in BAS -->
      
      <span> 11.28 </span>                    <!-- [m] wing span -->
      <mac>   2.02 </mac>                     <!-- [m] wing mean aerodynamic chord -->
      <area> 22.30 </area>                    <!-- [m^2] wing area -->
      
      <dcl_dailerons> 1.0 </dcl_dailerons>    <!-- [1/rad] rolling moment coefficient due to ailerons deflection -->
      
      <!-- [-] drag coefficient vs angle of attack -->
      <cx keys_unit="deg">
       -180.0      0.0153
       -170.0      0.0915
       -160.0      0.2339
       -150.0      0.5346
       -140.0      0.6690
       -130.0      0.9385
       -120.0      1.1544
       -110.0      1.2650
       -100.0      1.4384
        -90.0      1.4732
        -80.0      1.4439
        -70.0      1.3234
        -60.0      1.2321
        -50.0      1.0304
        -40.0      0.8346
        -30.0      0.5920
        -25.0      0.3957
        -20.0      0.2482
        -17.0      0.1734
        -14.0      0.0914
        -12.0      0.0642
        -10.0      0.0464
         -9.0      0.0388
         -8.0      0.0324
         -7.0      0.0267
         -6.0      0.0223
         -5.0      0.0188
         -4.0      0.0164
         -3.0      0.0149
         -2.0      0.0144
         -1.0      0.0146
          0.0      0.0159
          1.0      0.0179
          2.0      0.0207
          3.0      0.0243
          4.0      0.0290
          5.0      0.0345
          6.0      0.0410
          7.0      0.0484
          8.0      0.0568
          9.0      0.0659
         10.0      0.0759
         11.0      0.0867
         12.0      0.0980
         13.0      0.1102
         14.0      0.1230
         15.0      0.1360
         17.0      0.1913
         20.0      0.2461
         25.0      0.4024
         30.0      0.5612
         40.0      0.8846
         50.0      1.0528
         60.0      1.2309
         70.0      1.3675
         80.0      1.4694
         90.0      1.5221
        100.0      1.4410
        110.0      1.3063
        120.0      1.1526
        130.0      0.9487
        140.0      0.7566
        150.0      0.4942
        160.0      0.2039
        170.0      0.0634
        180.0      0.0153
      </cx>
      
      <!-- [-] lift coefficient vs [deg] angle of attack -->
      <cz keys_unit="deg">
        -180.0    -0.008
        -170.0     0.059
        -160.0     0.226
        -150.0     0.566
        -140.0     0.499
        -130.0     0.511
        -120.0     0.435
        -110.0     0.269
        -100.0     0.108
         -90.0    -0.128
         -80.0    -0.326
         -70.0    -0.541
         -60.0    -0.748
         -50.0    -0.852
         -40.0    -0.960
         -30.0    -0.984
         -25.0    -0.804
         -20.0    -0.682
         -17.0    -0.657
         -14.0    -0.763
         -12.0    -0.671
         -10.0    -0.554
          -9.0    -0.488
          -8.0    -0.421
          -7.0    -0.352
          -6.0    -0.278
          -5.0    -0.207
          -4.0    -0.132
          -3.0    -0.058
          -2.0     0.016
          -1.0     0.093
           0.0     0.168
           1.0     0.245
           2.0     0.322
           3.0     0.399
           4.0     0.477
           5.0     0.551
           6.0     0.623
           7.0     0.695
           8.0     0.765
           9.0     0.833
          10.0     0.897
          11.0     0.961
          12.0     1.018
          13.0     1.073
          14.0     1.121
          15.0     1.156
          17.0     1.118
          20.0     0.911
          25.0     0.894
          30.0     0.910
          40.0     1.004
          50.0     0.855
          60.0     0.705
          70.0     0.503
          80.0     0.278
          90.0     0.039
         100.0    -0.189
         110.0    -0.387
         120.0    -0.581
         130.0    -0.678
         140.0    -0.781
         150.0    -0.726
         160.0    -0.282
         170.0    -0.310
         180.0    -0.008
      </cz>
      
      <!-- [-] pitching moment coefficient vs [deg] angle of attack -->
      <cm keys_unit="deg">
        -180.0     0.031
        -170.0     0.232
        -160.0     0.325
        -150.0     0.486
        -140.0     0.480
        -130.0     0.537
        -120.0     0.550
        -110.0     0.509
        -100.0     0.518
         -90.0     0.419
         -80.0     0.387
         -70.0     0.263
         -60.0     0.203
         -50.0     0.150
         -40.0     0.110
         -30.0     0.085
         -25.0     0.033
         -20.0    -0.004
         -17.0    -0.030
         -14.0    -0.074
         -12.0    -0.075
         -10.0    -0.067
          -9.0    -0.063
          -8.0    -0.059
          -7.0    -0.055
          -6.0    -0.052
          -5.0    -0.047
          -4.0    -0.044
          -3.0    -0.039
          -2.0    -0.035
          -1.0    -0.031
           0.0    -0.026
           1.0    -0.021
           2.0    -0.017
           3.0    -0.011
           4.0    -0.006
           5.0     0.000
           6.0     0.006
           7.0     0.013
           8.0     0.019
           9.0     0.027
          10.0     0.034
          11.0     0.041
          12.0     0.050
          13.0     0.057
          14.0     0.065
          15.0     0.072
          17.0     0.046
          20.0     0.022
          25.0    -0.043
          30.0    -0.096
          40.0    -0.132
          50.0    -0.158
          60.0    -0.204
          70.0    -0.286
          80.0    -0.354
          90.0    -0.432
         100.0    -0.465
         110.0    -0.496
         120.0    -0.565
         130.0    -0.539
         140.0    -0.531
         150.0    -0.482
         160.0    -0.287
         170.0    -0.264
         180.0     0.031
      </cm>
      
      <!-- [1/rad] drag coefficient due to flaps deflection -->
      <dcx_dflaps>
           0.0     0.0000
      </dcx_dflaps>
      
      <!-- [1/rad] lift coefficient due to flaps deflection -->
      <dcz_dflaps>
           0.0     0.000
      </dcz_dflaps>
      
      <!-- [1/rad] pitching moment coefficient due to flaps deflection -->
      <dcm_dflaps>
           0.0     0.000
      </dcm_dflaps>
      
    </tail_off>
    
    <!-- horizontal stabilizer -->
    <stab_hor type="horizontal">
        
      <aero_center> -5.29 0.0 -0.43 </aero_center>    <!-- [m] stabilizer aerodynamic center expressed in BAS -->
      
      <area> 3.81 </area>                             <!-- [m^2] stabilizer area -->
      
      <incidence unit="deg"> 2.0 </incidence>         <!-- [deg] stabilizer incidence angle -->
      
      <dcx_delevator> 0.0 </dcx_delevator>            <!-- [1/rad] drag coefficient due to elevator deflection -->
      <dcz_delevator> 0.3 </dcz_delevator>            <!-- [1/rad] lift coefficient due to elevator deflection -->
      
      <dcz_delevator_trim> 0.3 </dcz_delevator_trim>  <!-- [1/rad] lift coefficient due to elevator trim deflection -->
      
      <!-- [-] drag coefficient vs [deg] angle of attack -->
      <cx keys_unit="deg">
        -180.0     0.0128
        -150.0     0.6200
        -120.0     1.4338
         -90.0     2.0000
         -70.0     1.8000
         -50.0     1.0400
         -30.0     0.6200
         -25.0     0.3285
         -20.0     0.1594
         -14.0     0.0600
         -10.0     0.0310
          -8.0     0.0230
          -6.0     0.0179
          -4.0     0.0149
          -2.0     0.0133
           0.0     0.0128
           2.0     0.0133
           4.0     0.0149
           6.0     0.0179
           8.0     0.0230
          10.0     0.0310
          14.0     0.0600
          20.0     0.1594
          25.0     0.3285
          30.0     0.6200
          50.0     1.0400
          70.0     1.8000
          90.0     2.0000
         120.0     1.4338
         150.0     0.6200
         180.0     0.0128
      </cx>
        
      <!-- [-] lift coefficient vs [deg] angle of attack -->
      <cz keys_unit="deg">
        -180.0     0.000
        -150.0     1.067
        -120.0     0.800
         -90.0     0.000
         -60.0    -0.800
         -45.0    -1.000
         -35.0    -1.060
         -20.0    -0.880
           0.0    -0.133
          20.0     0.615
          35.0     0.950
          45.0     1.000
          60.0     0.890
          90.0     0.000
         120.0    -0.890
         150.0    -0.887
         180.0     0.000
      </cz>
        
    </stab_hor>
    
    <!-- vertical stabilizer -->
    <stab_ver type="vertical">
        
      <aero_center> -5.88 0.0 -0.98 </aero_center>    <!-- [m] stabilizer aerodynamic center expressed in BAS -->
      
      <area> 1.86 </area>                             <!-- [m^2] stabilizer area -->
      
      <dcx_drudder> 0.0 </dcx_drudder>                <!-- [1/rad] drag coefficient due to rudder deflection -->
      <dcy_drudder> 1.0 </dcy_drudder>                <!-- [1/rad] side force coefficient due to rudder deflection -->
      
      <!-- [-] drag coefficient vs [deg] sideslip angle -->
      <cx keys_unit="deg">
        -20.0      0.5551
        -14.0      0.2681
         -8.0      0.1079
         -4.0      0.0546
          0.0      0.0374
          4.0      0.0546
          8.0      0.1079
         14.0      0.2681
         20.0      0.5551
      </cx>
      
      <!-- [-] side force coefficient vs [deg] sideslip angle -->
      <cy keys_unit="deg">        
        -30.0      1.711
        -15.0      0.975
          0.0      0.000
         15.0     -0.975
         30.0     -1.711
      </cy>
        
    </stab_ver>
    
  </aerodynamics>
  
  <!-- controls -->
  <controls>
    
    <!-- [rad] ailerons deflection vs [-] normalized roll input -->
    <control_channel name="ailerons" unit="deg">
      -1.0  -15.0
      -0.5   -5.0
       0.0    0.0
       0.5    5.0
       1.0   15.0
    </control_channel>
    
    <!-- [rad] elevator deflection vs [-] normalized pitch input -->
    <control_channel name="elevator" unit="deg">
      -1.0  -30.0
      -0.5  -10.0
       0.0    0.0
       0.5    6.7
       1.0   20.0
    </control_channel>
    
    <!-- [rad] rudder deflection vs [-] normalized yaw input -->
    <control_channel name="rudder" unit="deg">
      -1.0  -30.0
      -0.5  -10.0
       0.0    0.0
       0.5   10.0
       1.0   30.0
    </control_channel>
    
    <!-- [rad] elevator trim deflection vs [-] normalized pitch trim input -->
    <control_channel name="elevator_trim" unit="deg">
      -1.0  -20.0
       0.0    0.0
       1.0   20.0
    </control_channel>
    
    <!-- [rad] flaps deflection vs [-] normalized flaps input -->
    <control_channel name="flaps" unit="deg">
       0.0    0.0
       1.0   47.0
    </control_channel>
    
    <!-- [-] normalized left brake force vs [-] normalized left brake input -->
    <control_channel name="brake_l">
       0.0    0.0
       1.0    1.0
    </control_channel>
    
    <!-- [-] normalized right brake force vs [-] normalized right brake input -->
    <control_channel name="brake_r">
       0.0    0.0
       1.0    1.0
    </control_channel>
    
  </controls>
  
  <!-- landing gear -->
  <landing_gear>
    
    <!-- left wheel -->
    <wheel name="wheel_l" steerable="0" caster="0" brake_group="1">
      <attachment_point>   0.47  -1.86  0.5  </attachment_point>    <!-- [m] strut attachment point coordinates expressed in BAS -->
      <unloaded_wheel>     0.86  -1.86  2.5  </unloaded_wheel>      <!-- [m] unloaded wheel coordinates expressed in BAS -->
      
      <stiffness>  4.0e+4  </stiffness>                             <!-- [N/m] strut stiffness (linear spring) coefficient -->
      <damping>    5.0e+4  </damping>                               <!-- [N/(m/s)] strut damping coefficient -->
      
      <friction_static>   0.95  </friction_static>                  <!-- [-] coefficient of static friction -->
      <friction_kinetic>  0.75  </friction_kinetic>                 <!-- [-] coefficient of kinetic friction -->
      <friction_rolling>  0.02  </friction_rolling>                 <!-- [-] coefficient of rolling friction -->
    </wheel>
    
    <!-- right wheel -->
    <wheel name="wheel_r" steerable="0" caster="0" brake_group="2">
      <attachment_point>   0.47   1.86  0.5  </attachment_point>    <!-- [m] strut attachment point coordinates expressed in BAS -->
      <unloaded_wheel>     0.86   1.86  2.5  </unloaded_wheel>      <!-- [m] unloaded wheel coordinates expressed in BAS -->
      
      <stiffness>  4.0e+4  </stiffness>                             <!-- [N/m] strut stiffness (linear spring) coefficient -->
      <damping>    5.0e+4  </damping>                               <!-- [N/(m/s)] strut damping coefficient -->
      
      <friction_static>   0.95  </friction_static>                  <!-- [-] coefficient of static friction -->
      <friction_kinetic>  0.75  </friction_kinetic>                 <!-- [-] coefficient of kinetic friction -->
      <friction_rolling>  0.02 </friction_rolling>                  <!-- [-] coefficient of rolling friction -->
    </wheel>
    
    <!-- tail wheel -->
    <wheel name="wheel_t" steerable="0" caster="1" brake_group="0">
      <attachment_point>  -4.67   0.0  0.0  </attachment_point>     <!-- [m] strut attachment point coordinates expressed in BAS -->
      <unloaded_wheel>    -4.67   0.0  1.0  </unloaded_wheel>       <!-- [m] unloaded wheel coordinates expressed in BAS -->
      
      <stiffness>  4.0e+4  </stiffness>                             <!-- [N/m] strut stiffness (linear spring) coefficient -->
      <damping>    5.0e+3  </damping>                               <!-- [N/(m/s)] strut damping coefficient -->
      
      <friction_static>   0.95  </friction_static>                  <!-- [-] coefficient of static friction -->
      <friction_kinetic>  0.75  </friction_kinetic>                 <!-- [-] coefficient of kinetic friction -->
      <friction_rolling>  0.02  </friction_rolling>                 <!-- [-] coefficient of rolling friction -->
    </wheel>
    
  </landing_gear>
  
  <!-- mass -->
  <mass>
    
    <empty_mass>  3232.0  </empty_mass> <!-- [kg] empty aircraft mass -->
    
    <!-- [kg*m^2] empty aircraft inertia tensor -->
    <inertia_tensor>
     11392.6       0.0    -122.4
         0.0   12519.7       0.0
      -122.4       0.0   22474.5
    </inertia_tensor>
    
    <center_of_mass> -0.2 0.0  0.22  </center_of_mass> <!-- [m] empty aircraft center of mass coordinates expressed in BAS -->
    
     <!-- pilot -->
    <variable_mass name="pilot">
      <mass_max> 120.0 </mass_max>                      <!-- [kg] maximum mass -->
      <coordinates>  -0.8   0.0  -0.6  </coordinates>   <!-- [m] coordinates expressed in BAS -->
    </variable_mass>
    
    <!-- left fuel tank -->
    <variable_mass name="fuel_tank_l">
      <mass_max> 280.0 </mass_max>                      <!-- [kg] maximum mass -->
      <coordinates>  -0.2  -0.2   0.7  </coordinates>   <!-- [m] coordinates expressed in BAS -->
    </variable_mass>
    
    <!-- right fuel tank -->
    <variable_mass name="fuel_tank_r">
      <mass_max> 280.0 </mass_max>                      <!-- [kg] maximum mass -->
      <coordinates>  -0.2   0.2   0.7  </coordinates>   <!-- [m] coordinates expressed in BAS -->
    </variable_mass>
    
  </mass>
  
  <!-- propulsion -->
  <propulsion>
    
    <!-- propeller -->
    <propeller>
      <position>  3.08  0.0  0.0  </position> <!-- [m] propeller position expressed in BAS -->

      <gear_ratio>  1.0  </gear_ratio>        <!-- [-] gear ratio (propeller rpm / engine rpm - sic!) -->
      <diameter> 3.40 </diameter>             <!-- [m] propeller diameter -->
      <inertia> 4.0 </inertia>                <!-- [kg*m^2] polar moment of inertia -->
      
      <!-- [rad] propeller pitch at 0.75 radius vs propeller lever position -->
      <pitch unit="deg">
        0.0  23.0
        1.0  65.0
      </pitch>
      
      <!-- [-] thrust coefficient vs advance [-] (rows) and propeller pitch [rad] (cols) -->
      <thrust_coef cols_unit="deg">
               22.0
        0.0     0.0748
        0.1     0.0748
        0.2     0.0737
        0.3     0.0726
        0.4     0.0704
        0.5     0.0671
        0.6     0.0627
        0.7     0.0550
        0.8     0.0440
        0.9     0.0319
        1.0     0.0209
        1.1     0.0088
        1.2    -0.0011
        1.3    -0.0088
        1.4    -0.0209
        1.5    -0.0319
        1.6    -0.0440
        1.7    -0.0550
        1.8    -0.0627
        1.9    -0.0671
        2.0    -0.0704
        2.1    -0.0726
        2.2    -0.0737
        2.3    -0.0748
        5.0    -0.0748
      </thrust_coef>
      
      <!-- [-] power coefficient vs advance [-] (rows) and propeller pitch [rad] (cols) -->
      <power_coef cols_unit="deg">
               22.0
        0.0     0.058
        0.1     0.062
        0.2     0.060
        0.3     0.058
        0.4     0.052
        0.5     0.045
        0.6     0.042
        0.7     0.039
        0.8     0.034
        0.9     0.028
        1.0     0.020
        1.1     0.011
        1.2     0.008
        1.3     0.011
        1.4     0.020
        1.5     0.028
        1.6     0.035
        1.7     0.039
        1.8     0.042
        1.9     0.044
        2.0     0.045
        2.1     0.045
        2.2     0.044
        2.3     0.043
        2.4     0.042
        5.0     0.041
      </power_coef>
    </propeller>
    
    <!-- Packard V-1650-3 engine -->
    <piston_engine>
      <power_max unit="kW"> 1043.0 </power_max> <!-- [W] maximum power -->
      
      <starter>    0.0  </starter>              <!-- [N*m] starter torque -->
      <rpm_min>  500.0  </rpm_min>              <!-- [rpm] minimum rpm -->
      <rpm_max> 3000.0  </rpm_max>              <!-- [rpm] maximum rpm -->
      <inertia>   20.0  </inertia>              <!-- [kg*m^2] polar moment of inertia -->
      
      <sfc unit="g_kWh"> 0.0 </sfc>             <!-- [kg/(kW*s)] specific fuel consumption -->
      
      <!-- mixture vs mixture lever position -->
      <mixture>
        0.00  2.00
        0.50  1.75
        0.75  1.44
        1.00  1.00
      </mixture>
      
      <!-- throttle vs throttle lever position -->
      <throttle>
        0.0  0.2
        1.0  1.0
      </throttle>
      
      <!-- power factor vs fuel to air ratio -->
      <power_factor>
        0.05  0.00
        0.06  0.87
        0.07  0.97
        0.08  1.00
        0.09  0.98
        0.10  0.96
        0.11  0.87
        0.12  0.50
        0.13  0.00
      </power_factor>
    </piston_engine>
    
  </propulsion>
  
</fdm>
